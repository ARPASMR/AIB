FROM debian:buster-slim

# System update
RUN apt -y update && \
    apt -y upgrade

# Development packages
RUN apt -y install g++ gfortran grass libboost1.67-all-dev libgfortran-7-dev libgfortran-8-dev

COPY src /development

RUN cd /development/fortran/lib && \
    gfortran -c GrADSlib_new.f90 && \
    gfortran -c calendar.f90 
#    && \
#    cd /development/fortran/analysis && \
#    gfortran -c fwigrid_ana_2.1.f90 -I../lib -L../lib

CMD /bin/bash
